//
// Created by Michael Lane on 5/28/17.
//

#ifndef MOVE_GENERATOR_BITBOARD_TABLES_H
#define MOVE_GENERATOR_BITBOARD_TABLES_H

#include <vector>
#include <tuple>
#include <unordered_map>
#include <string>
#include <map>
#include <queue>
#include "Zobrist_Table.h"

static unsigned int BLACK_IDX = 0;
static unsigned int WHITE_IDX = 10;

enum player : int {
  BLACK = 1,
  WHITE = 2
};

typedef std::unordered_map<unsigned int, std::vector<unsigned int>> Attack_Mask;
typedef std::unordered_map<unsigned int, std::vector<unsigned int>> Move_Mask;
typedef std::unordered_map<unsigned int, std::string> Int_to_Str;
typedef std::unordered_map<unsigned int, int> Int_to_Idx;
typedef std::unordered_map<unsigned int, std::unordered_map<unsigned int, unsigned int>> Shadow_Mask;
typedef std::vector<unsigned int> State_t;

struct state_value {
  int value;
  std::string move_string;
  State_t state;
  bool win;
  bool attack;
  unsigned long long int hash;

  friend bool operator<(const state_value &a, const state_value &b) {
    return a.value > b.value;  // Would like a min heap for child states
  }
};

typedef std::priority_queue<state_value> Ordered_States_t;

static Int_to_Idx TO_IDX = {
    {1610612736, 29},
    {1342177280, 28},
    {1207959552, 27},
    {1140850688, 26},
    {1107296256, 25},
    {1090519040, 24},
    {1082130432, 23},
    {1077936128, 22},
    {1075838976, 21},
    {1074790400, 20},
    {1074266112, 19},
    {1074003968, 18},
    {1073872896, 17},
    {1073807360, 16},
    {1073774592, 15},
    {1073758208, 14},
    {1073750016, 13},
    {1073745920, 12},
    {1073743872, 11},
    {1073742848, 10},
    {1073742336, 9},
    {1073742080, 8},
    {1073741952, 7},
    {1073741888, 6},
    {1073741856, 5},
    {1073741840, 4},
    {1073741832, 3},
    {1073741828, 2},
    {1073741826, 1},
    {1073741825, 0},
    {536870912,  29},
    {268435456,  28},
    {134217728,  27},
    {67108864,   26},
    {33554432,   25},
    {16777216,   24},
    {8388608,    23},
    {4194304,    22},
    {2097152,    21},
    {1048576,    20},
    {524288,     19},
    {262144,     18},
    {131072,     17},
    {65536,      16},
    {32768,      15},
    {16384,      14},
    {8192,       13},
    {4096,       12},
    {2048,       11},
    {1024,       10},
    {512,        9},
    {256,        8},
    {128,        7},
    {64,         6},
    {32,         5},
    {16,         4},
    {8,          3},
    {4,          2},
    {2,          1},
    {1,          0},
};

static Int_to_Str TO_STR = {
    {1610612736, "a6"},
    {1342177280, "b6"},
    {1207959552, "c6"},
    {1140850688, "d6"},
    {1107296256, "e6"},
    {1090519040, "a5"},
    {1082130432, "b5"},
    {1077936128, "c5"},
    {1075838976, "d5"},
    {1074790400, "e5"},
    {1074266112, "a4"},
    {1074003968, "b4"},
    {1073872896, "c4"},
    {1073807360, "d4"},
    {1073774592, "e4"},
    {1073758208, "a3"},
    {1073750016, "b3"},
    {1073745920, "c3"},
    {1073743872, "d3"},
    {1073742848, "e3"},
    {1073742336, "a2"},
    {1073742080, "b2"},
    {1073741952, "c2"},
    {1073741888, "d2"},
    {1073741856, "e2"},
    {1073741840, "a1"},
    {1073741832, "b1"},
    {1073741828, "c1"},
    {1073741826, "d1"},
    {1073741825, "e1"},
    {536870912,  "a6"},
    {268435456,  "b6"},
    {134217728,  "c6"},
    {67108864,   "d6"},
    {33554432,   "e6"},
    {16777216,   "a5"},
    {8388608,    "b5"},
    {4194304,    "c5"},
    {2097152,    "d5"},
    {1048576,    "e5"},
    {524288,     "a4"},
    {262144,     "b4"},
    {131072,     "c4"},
    {65536,      "d4"},
    {32768,      "e4"},
    {16384,      "a3"},
    {8192,       "b3"},
    {4096,       "c3"},
    {2048,       "d3"},
    {1024,       "e3"},
    {512,        "a2"},
    {256,        "b2"},
    {128,        "c2"},
    {64,         "d2"},
    {32,         "e2"},
    {16,         "a1"},
    {8,          "b1"},
    {4,          "c1"},
    {2,          "d1"},
    {1,          "e1"},
};

static const Attack_Mask KING_ATTACK_MASKS = {
    {536870912, {268435456, 16777216,  8388608}},
    {268435456, {536870912, 134217728, 16777216,  8388608,  4194304}},
    {134217728, {268435456, 67108864,  8388608,   4194304,  2097152}},
    {67108864,  {134217728, 33554432,  4194304,   2097152,  1048576}},
    {33554432,  {67108864,  2097152,   1048576}},
    {16777216,  {536870912, 268435456, 8388608,   524288,   262144}},
    {8388608,   {536870912, 268435456, 134217728, 16777216, 4194304, 524288, 262144, 131072}},
    {4194304,   {268435456, 134217728, 67108864,  8388608,  2097152, 262144, 131072, 65536}},
    {2097152,   {134217728, 67108864,  33554432,  4194304,  1048576, 131072, 65536,  32768}},
    {1048576,   {67108864,  33554432,  2097152,   65536,    32768}},
    {524288,    {16777216,  8388608,   262144,    16384,    8192}},
    {262144,    {16777216,  8388608,   4194304,   524288,   131072,  16384,  8192,   4096}},
    {131072,    {8388608,   4194304,   2097152,   262144,   65536,   8192,   4096,   2048}},
    {65536,     {4194304,   2097152,   1048576,   131072,   32768,   4096,   2048,   1024}},
    {32768,     {2097152,   1048576,   65536,     2048,     1024}},
    {16384,     {524288,    262144,    8192,      512,      256}},
    {8192,      {524288,    262144,    131072,    16384,    4096,    512,    256,    128}},
    {4096,      {262144,    131072,    65536,     8192,     2048,    256,    128,    64}},
    {2048,      {131072,    65536,     32768,     4096,     1024,    128,    64,     32}},
    {1024,      {65536,     32768,     2048,      64,       32}},
    {512,       {16384,     8192,      256,       16,       8}},
    {256,       {16384,     8192,      4096,      512,      128,     16,     8,      4}},
    {128,       {8192,      4096,      2048,      256,      64,      8,      4,      2}},
    {64,        {4096,      2048,      1024,      128,      32,      4,      2,      1}},
    {32,        {2048,      1024,      64,        2,        1}},
    {16,        {512,       256,       8}},
    {8,         {512,       256,       128,       16,       4}},
    {4,         {256,       128,       64,        8,        2}},
    {2,         {128,       64,        32,        4,        1}},
    {1,         {64,        32,        2}},
};

static const Attack_Mask QUEEN_ATTACK_MASKS = {
    {536870912, {268435456, 134217728, 67108864,  33554432, 16777216, 8388608, 524288,  131072, 16384,  2048,   512,   32,   16}},
    {268435456, {536870912, 134217728, 67108864,  33554432, 16777216, 8388608, 4194304, 262144, 65536,  8192,   1024,  256,  8}},
    {134217728, {536870912, 268435456, 67108864,  33554432, 8388608,  4194304, 2097152, 524288, 131072, 32768,  4096,  128,  4}},
    {67108864,  {536870912, 268435456, 134217728, 33554432, 4194304,  2097152, 1048576, 262144, 65536,  16384,  2048,  64,   2}},
    {33554432,  {536870912, 268435456, 134217728, 67108864, 2097152,  1048576, 131072,  32768,  8192,   1024,   512,   32,   1}},
    {16777216,  {536870912, 268435456, 8388608,   4194304,  2097152,  1048576, 524288,  262144, 16384,  4096,   512,   64,   16,   1}},
    {8388608,   {536870912, 268435456, 134217728, 16777216, 4194304,  2097152, 1048576, 524288, 262144, 131072, 8192,  2048, 256,  32,  8}},
    {4194304,   {268435456, 134217728, 67108864,  16777216, 8388608,  2097152, 1048576, 262144, 131072, 65536,  16384, 4096, 1024, 128, 4}},
    {2097152,   {134217728, 67108864,  33554432,  16777216, 8388608,  4194304, 1048576, 131072, 65536,  32768,  8192,  2048, 512,  64,  2}},
    {1048576,   {67108864,  33554432,  16777216,  8388608,  4194304,  2097152, 65536,   32768,  4096,   1024,   256,   32,   16,   1}},
    {524288,    {536870912, 134217728, 16777216,  8388608,  262144,   131072,  65536,   32768,  16384,  8192,   512,   128,  16,   2}},
    {262144,    {268435456, 67108864,  16777216,  8388608,  4194304,  524288,  131072,  65536,  32768,  16384,  8192,  4096, 256,  64,  8,   1}},
    {131072,    {536870912, 134217728, 33554432,  8388608,  4194304,  2097152, 524288,  262144, 65536,  32768,  8192,  4096, 2048, 512, 128, 32, 4}},
    {65536,     {268435456, 67108864,  4194304,   2097152,  1048576,  524288,  262144,  131072, 32768,  4096,   2048,  1024, 256,  64,  16,  2}},
    {32768,     {134217728, 33554432,  2097152,   1048576,  524288,   262144,  131072,  65536,  2048,   1024,   128,   32,   8,    1}},
    {16384,     {536870912, 67108864,  16777216,  4194304,  524288,   262144,  8192,    4096,   2048,   1024,   512,   256,  16,   4}},
    {8192,      {268435456, 33554432,  8388608,   2097152,  524288,   262144,  131072,  16384,  4096,   2048,   1024,  512,  256,  128, 8,   2}},
    {4096,      {134217728, 16777216,  4194304,   1048576,  262144,   131072,  65536,   16384,  8192,   2048,   1024,  256,  128,  64,  16,  4,  1}},
    {2048,      {536870912, 67108864,  8388608,   2097152,  131072,   65536,   32768,   16384,  8192,   4096,   1024,  128,  64,   32,  8,   2}},
    {1024,      {268435456, 33554432,  4194304,   1048576,  65536,    32768,   16384,   8192,   4096,   2048,   64,    32,   4,    1}},
    {512,       {536870912, 33554432,  16777216,  2097152,  524288,   131072,  16384,   8192,   256,    128,    64,    32,   16,   8}},
    {256,       {268435456, 8388608,   1048576,   262144,   65536,    16384,   8192,    4096,   512,    128,    64,    32,   16,   8,   4}},
    {128,       {134217728, 4194304,   524288,    131072,   32768,    8192,    4096,    2048,   512,    256,    64,    32,   8,    4,   2}},
    {64,        {67108864,  16777216,  2097152,   262144,   65536,    4096,    2048,    1024,   512,    256,    128,   32,   4,    2,   1}},
    {32,        {536870912, 33554432,  8388608,   1048576,  131072,   32768,   2048,    1024,   512,    256,    128,   64,   2,    1}},
    {16,        {536870912, 16777216,  1048576,   524288,   65536,    16384,   4096,    512,    256,    8,      4,     2,    1}},
    {8,         {268435456, 8388608,   262144,    32768,    8192,     2048,    512,     256,    128,    16,     4,     2,    1}},
    {4,         {134217728, 4194304,   131072,    16384,    4096,     1024,    256,     128,    64,     16,     8,     2,    1}},
    {2,         {67108864,  2097152,   524288,    65536,    8192,     2048,    128,     64,     32,     16,     8,     4,    1}},
    {1,         {33554432,  16777216,  1048576,   262144,   32768,    4096,    1024,    64,     32,     16,     8,     4,    2}},
};

static const Attack_Mask BISHOP_ATTACK_MASKS = {
    {536870912, {8388608,   131072,    2048,    32}},
    {268435456, {16777216,  4194304,   65536,   1024}},
    {134217728, {8388608,   2097152,   524288,  32768}},
    {67108864,  {4194304,   1048576,   262144,  16384}},
    {33554432,  {2097152,   131072,    8192,    512}},
    {16777216,  {268435456, 262144,    4096,    64,      1}},
    {8388608,   {536870912, 134217728, 524288,  131072,  2048,  32}},
    {4194304,   {268435456, 67108864,  262144,  65536,   16384, 1024}},
    {2097152,   {134217728, 33554432,  131072,  32768,   8192,  512}},
    {1048576,   {67108864,  65536,     4096,    256,     16}},
    {524288,    {134217728, 8388608,   8192,    128,     2}},
    {262144,    {67108864,  16777216,  4194304, 16384,   4096,  64,   1}},
    {131072,    {536870912, 33554432,  8388608, 2097152, 8192,  2048, 512, 32}},
    {65536,     {268435456, 4194304,   1048576, 4096,    1024,  256,  16}},
    {32768,     {134217728, 2097152,   2048,    128,     8}},
    {16384,     {67108864,  4194304,   262144,  256,     4}},
    {8192,      {33554432,  2097152,   524288,  131072,  512,   128,  2}},
    {4096,      {16777216,  1048576,   262144,  65536,   256,   64,   16,  1}},
    {2048,      {536870912, 8388608,   131072,  32768,   128,   32,   8}},
    {1024,      {268435456, 4194304,   65536,   64,      4}},
    {512,       {33554432,  2097152,   131072,  8192,    8}},
    {256,       {1048576,   65536,     16384,   4096,    16,    4}},
    {128,       {524288,    32768,     8192,    2048,    8,     2}},
    {64,        {16777216,  262144,    4096,    1024,    4,     1}},
    {32,        {536870912, 8388608,   131072,  2048,    2}},
    {16,        {1048576,   65536,     4096,    256}},
    {8,         {32768,     2048,      512,     128}},
    {4,         {16384,     1024,      256,     64}},
    {2,         {524288,    8192,      128,     32}},
    {1,         {16777216,  262144,    4096,    64}},
};

static const Attack_Mask KNIGHT_ATTACK_MASKS = {
    {536870912, {4194304,   262144}},
    {268435456, {2097152,   524288,    131072}},
    {134217728, {16777216,  1048576,   262144,   65536}},
    {67108864,  {8388608,   131072,    32768}},
    {33554432,  {4194304,   65536}},
    {16777216,  {134217728, 131072,    8192}},
    {8388608,   {67108864,  65536,     16384,    4096}},
    {4194304,   {536870912, 33554432,  524288,   32768,   8192,  2048}},
    {2097152,   {268435456, 262144,    4096,     1024}},
    {1048576,   {134217728, 131072,    2048}},
    {524288,    {268435456, 4194304,   4096,     256}},
    {262144,    {536870912, 134217728, 2097152,  2048,    512,   128}},
    {131072,    {268435456, 67108864,  16777216, 1048576, 16384, 1024, 256, 64}},
    {65536,     {134217728, 33554432,  8388608,  8192,    128,   32}},
    {32768,     {67108864,  4194304,   4096,     64}},
    {16384,     {8388608,   131072,    128,      8}},
    {8192,      {16777216,  4194304,   65536,    64,      16,    4}},
    {4096,      {8388608,   2097152,   524288,   32768,   512,   32,   8,   2}},
    {2048,      {4194304,   1048576,   262144,   256,     4,     1}},
    {1024,      {2097152,   131072,    128,      2}},
    {512,       {262144,    4096,      4}},
    {256,       {524288,    131072,    2048,     2}},
    {128,       {262144,    65536,     16384,    1024,    16,    1}},
    {64,        {131072,    32768,     8192,     8}},
    {32,        {65536,     4096,      4}},
    {16,        {8192,      128}},
    {8,         {16384,     4096,      64}},
    {4,         {8192,      2048,      512,      32}},
    {2,         {4096,      1024,      256}},
    {1,         {2048,      128}},
};

static const Attack_Mask ROOK_ATTACK_MASKS = {
    {536870912, {268435456, 134217728, 67108864,  33554432, 16777216, 524288, 16384, 512, 16}},
    {268435456, {536870912, 134217728, 67108864,  33554432, 8388608,  262144, 8192,  256, 8}},
    {134217728, {536870912, 268435456, 67108864,  33554432, 4194304,  131072, 4096,  128, 4}},
    {67108864,  {536870912, 268435456, 134217728, 33554432, 2097152,  65536,  2048,  64,  2}},
    {33554432,  {536870912, 268435456, 134217728, 67108864, 1048576,  32768,  1024,  32,  1}},
    {16777216,  {536870912, 8388608,   4194304,   2097152,  1048576,  524288, 16384, 512, 16}},
    {8388608,   {268435456, 16777216,  4194304,   2097152,  1048576,  262144, 8192,  256, 8}},
    {4194304,   {134217728, 16777216,  8388608,   2097152,  1048576,  131072, 4096,  128, 4}},
    {2097152,   {67108864,  16777216,  8388608,   4194304,  1048576,  65536,  2048,  64,  2}},
    {1048576,   {33554432,  16777216,  8388608,   4194304,  2097152,  32768,  1024,  32,  1}},
    {524288,    {536870912, 16777216,  262144,    131072,   65536,    32768,  16384, 512, 16}},
    {262144,    {268435456, 8388608,   524288,    131072,   65536,    32768,  8192,  256, 8}},
    {131072,    {134217728, 4194304,   524288,    262144,   65536,    32768,  4096,  128, 4}},
    {65536,     {67108864,  2097152,   524288,    262144,   131072,   32768,  2048,  64,  2}},
    {32768,     {33554432,  1048576,   524288,    262144,   131072,   65536,  1024,  32,  1}},
    {16384,     {536870912, 16777216,  524288,    8192,     4096,     2048,   1024,  512, 16}},
    {8192,      {268435456, 8388608,   262144,    16384,    4096,     2048,   1024,  256, 8}},
    {4096,      {134217728, 4194304,   131072,    16384,    8192,     2048,   1024,  128, 4}},
    {2048,      {67108864,  2097152,   65536,     16384,    8192,     4096,   1024,  64,  2}},
    {1024,      {33554432,  1048576,   32768,     16384,    8192,     4096,   2048,  32,  1}},
    {512,       {536870912, 16777216,  524288,    16384,    256,      128,    64,    32,  16}},
    {256,       {268435456, 8388608,   262144,    8192,     512,      128,    64,    32,  8}},
    {128,       {134217728, 4194304,   131072,    4096,     512,      256,    64,    32,  4}},
    {64,        {67108864,  2097152,   65536,     2048,     512,      256,    128,   32,  2}},
    {32,        {33554432,  1048576,   32768,     1024,     512,      256,    128,   64,  1}},
    {16,        {536870912, 16777216,  524288,    16384,    512,      8,      4,     2,   1}},
    {8,         {268435456, 8388608,   262144,    8192,     256,      16,     4,     2,   1}},
    {4,         {134217728, 4194304,   131072,    4096,     128,      16,     8,     2,   1}},
    {2,         {67108864,  2097152,   65536,     2048,     64,       16,     8,     4,   1}},
    {1,         {33554432,  1048576,   32768,     1024,     32,       16,     8,     4,   2}},
};

static const Attack_Mask BLACK_PAWN_ATTACK_MASKS = {
    // Top 30 values are move masks for pawns promoted to queen
    {1610612736, {268435456, 134217728, 67108864,  33554432, 16777216, 8388608, 524288,  131072, 16384,  2048,   512,   32,   16}},
    {1342177280, {536870912, 134217728, 67108864,  33554432, 16777216, 8388608, 4194304, 262144, 65536,  8192,   1024,  256,  8}},
    {1207959552, {536870912, 268435456, 67108864,  33554432, 8388608,  4194304, 2097152, 524288, 131072, 32768,  4096,  128,  4}},
    {1140850688, {536870912, 268435456, 134217728, 33554432, 4194304,  2097152, 1048576, 262144, 65536,  16384,  2048,  64,   2}},
    {1107296256, {536870912, 268435456, 134217728, 67108864, 2097152,  1048576, 131072,  32768,  8192,   1024,   512,   32,   1}},
    {1090519040, {536870912, 268435456, 8388608,   4194304,  2097152,  1048576, 524288,  262144, 16384,  4096,   512,   64,   16,   1}},
    {1082130432, {536870912, 268435456, 134217728, 16777216, 4194304,  2097152, 1048576, 524288, 262144, 131072, 8192,  2048, 256,  32,  8}},
    {1077936128, {268435456, 134217728, 67108864,  16777216, 8388608,  2097152, 1048576, 262144, 131072, 65536,  16384, 4096, 1024, 128, 4}},
    {1075838976, {134217728, 67108864,  33554432,  16777216, 8388608,  4194304, 1048576, 131072, 65536,  32768,  8192,  2048, 512,  64,  2}},
    {1074790400, {67108864,  33554432,  16777216,  8388608,  4194304,  2097152, 65536,   32768,  4096,   1024,   256,   32,   16,   1}},
    {1074266112, {536870912, 134217728, 16777216,  8388608,  262144,   131072,  65536,   32768,  16384,  8192,   512,   128,  16,   2}},
    {1074003968, {268435456, 67108864,  16777216,  8388608,  4194304,  524288,  131072,  65536,  32768,  16384,  8192,  4096, 256,  64,  8,   1}},
    {1073872896, {536870912, 134217728, 33554432,  8388608,  4194304,  2097152, 524288,  262144, 65536,  32768,  8192,  4096, 2048, 512, 128, 32, 4}},
    {1073807360, {268435456, 67108864,  4194304,   2097152,  1048576,  524288,  262144,  131072, 32768,  4096,   2048,  1024, 256,  64,  16,  2}},
    {1073774592, {134217728, 33554432,  2097152,   1048576,  524288,   262144,  131072,  65536,  2048,   1024,   128,   32,   8,    1}},
    {1073758208, {536870912, 67108864,  16777216,  4194304,  524288,   262144,  8192,    4096,   2048,   1024,   512,   256,  16,   4}},
    {1073750016, {268435456, 33554432,  8388608,   2097152,  524288,   262144,  131072,  16384,  4096,   2048,   1024,  512,  256,  128, 8,   2}},
    {1073745920, {134217728, 16777216,  4194304,   1048576,  262144,   131072,  65536,   16384,  8192,   2048,   1024,  256,  128,  64,  16,  4,  1}},
    {1073743872, {536870912, 67108864,  8388608,   2097152,  131072,   65536,   32768,   16384,  8192,   4096,   1024,  128,  64,   32,  8,   2}},
    {1073742848, {268435456, 33554432,  4194304,   1048576,  65536,    32768,   16384,   8192,   4096,   2048,   64,    32,   4,    1}},
    {1073742336, {536870912, 33554432,  16777216,  2097152,  524288,   131072,  16384,   8192,   256,    128,    64,    32,   16,   8}},
    {1073742080, {268435456, 8388608,   1048576,   262144,   65536,    16384,   8192,    4096,   512,    128,    64,    32,   16,   8,   4}},
    {1073741952, {134217728, 4194304,   524288,    131072,   32768,    8192,    4096,    2048,   512,    256,    64,    32,   8,    4,   2}},
    {1073741888, {67108864,  16777216,  2097152,   262144,   65536,    4096,    2048,    1024,   512,    256,    128,   32,   4,    2,   1}},
    {1073741856, {536870912, 33554432,  8388608,   1048576,  131072,   32768,   2048,    1024,   512,    256,    128,   64,   2,    1}},
    {1073741840, {536870912, 16777216,  1048576,   524288,   65536,    16384,   4096,    512,    256,    8,      4,     2,    1}},
    {1073741832, {268435456, 8388608,   262144,    32768,    8192,     2048,    512,     256,    128,    16,     4,     2,    1}},
    {1073741828, {134217728, 4194304,   131072,    16384,    4096,     1024,    256,     128,    64,     16,     8,     2,    1}},
    {1073741826, {67108864,  2097152,   524288,    65536,    8192,     2048,    128,     64,     32,     16,     8,     4,    1}},
    {1073741825, {33554432,  16777216,  1048576,   262144,   32768,    4096,    1024,    64,     32,     16,     8,     4,    2}},
    {536870912,  {8388608}},
    {268435456,  {16777216,  4194304}},
    {134217728,  {8388608,   2097152}},
    {67108864,   {4194304,   1048576}},
    {33554432,   {2097152}},
    {16777216,   {262144}},
    {8388608,    {524288,    131072}},
    {4194304,    {262144,    65536}},
    {2097152,    {131072,    32768}},
    {1048576,    {65536}},
    {524288,     {8192}},
    {262144,     {16384,     4096}},
    {131072,     {8192,      2048}},
    {65536,      {4096,      1024}},
    {32768,      {2048}},
    {16384,      {256}},
    {8192,       {512,       128}},
    {4096,       {256,       64}},
    {2048,       {128,       32}},
    {1024,       {64}},
    {512,        {8}},
    {256,        {16,        4}},
    {128,        {8,         2}},
    {64,         {4,         1}},
    {32,         {2}},
};

static const Attack_Mask WHITE_PAWN_ATTACK_MASKS = {
    // Top 30 values are move masks for pawns promoted to queen
    {1610612736, {268435456, 134217728, 67108864,  33554432, 16777216, 8388608, 524288,  131072, 16384,  2048,   512,   32,   16}},
    {1342177280, {536870912, 134217728, 67108864,  33554432, 16777216, 8388608, 4194304, 262144, 65536,  8192,   1024,  256,  8}},
    {1207959552, {536870912, 268435456, 67108864,  33554432, 8388608,  4194304, 2097152, 524288, 131072, 32768,  4096,  128,  4}},
    {1140850688, {536870912, 268435456, 134217728, 33554432, 4194304,  2097152, 1048576, 262144, 65536,  16384,  2048,  64,   2}},
    {1107296256, {536870912, 268435456, 134217728, 67108864, 2097152,  1048576, 131072,  32768,  8192,   1024,   512,   32,   1}},
    {1090519040, {536870912, 268435456, 8388608,   4194304,  2097152,  1048576, 524288,  262144, 16384,  4096,   512,   64,   16,   1}},
    {1082130432, {536870912, 268435456, 134217728, 16777216, 4194304,  2097152, 1048576, 524288, 262144, 131072, 8192,  2048, 256,  32,  8}},
    {1077936128, {268435456, 134217728, 67108864,  16777216, 8388608,  2097152, 1048576, 262144, 131072, 65536,  16384, 4096, 1024, 128, 4}},
    {1075838976, {134217728, 67108864,  33554432,  16777216, 8388608,  4194304, 1048576, 131072, 65536,  32768,  8192,  2048, 512,  64,  2}},
    {1074790400, {67108864,  33554432,  16777216,  8388608,  4194304,  2097152, 65536,   32768,  4096,   1024,   256,   32,   16,   1}},
    {1074266112, {536870912, 134217728, 16777216,  8388608,  262144,   131072,  65536,   32768,  16384,  8192,   512,   128,  16,   2}},
    {1074003968, {268435456, 67108864,  16777216,  8388608,  4194304,  524288,  131072,  65536,  32768,  16384,  8192,  4096, 256,  64,  8,   1}},
    {1073872896, {536870912, 134217728, 33554432,  8388608,  4194304,  2097152, 524288,  262144, 65536,  32768,  8192,  4096, 2048, 512, 128, 32, 4}},
    {1073807360, {268435456, 67108864,  4194304,   2097152,  1048576,  524288,  262144,  131072, 32768,  4096,   2048,  1024, 256,  64,  16,  2}},
    {1073774592, {134217728, 33554432,  2097152,   1048576,  524288,   262144,  131072,  65536,  2048,   1024,   128,   32,   8,    1}},
    {1073758208, {536870912, 67108864,  16777216,  4194304,  524288,   262144,  8192,    4096,   2048,   1024,   512,   256,  16,   4}},
    {1073750016, {268435456, 33554432,  8388608,   2097152,  524288,   262144,  131072,  16384,  4096,   2048,   1024,  512,  256,  128, 8,   2}},
    {1073745920, {134217728, 16777216,  4194304,   1048576,  262144,   131072,  65536,   16384,  8192,   2048,   1024,  256,  128,  64,  16,  4,  1}},
    {1073743872, {536870912, 67108864,  8388608,   2097152,  131072,   65536,   32768,   16384,  8192,   4096,   1024,  128,  64,   32,  8,   2}},
    {1073742848, {268435456, 33554432,  4194304,   1048576,  65536,    32768,   16384,   8192,   4096,   2048,   64,    32,   4,    1}},
    {1073742336, {536870912, 33554432,  16777216,  2097152,  524288,   131072,  16384,   8192,   256,    128,    64,    32,   16,   8}},
    {1073742080, {268435456, 8388608,   1048576,   262144,   65536,    16384,   8192,    4096,   512,    128,    64,    32,   16,   8,   4}},
    {1073741952, {134217728, 4194304,   524288,    131072,   32768,    8192,    4096,    2048,   512,    256,    64,    32,   8,    4,   2}},
    {1073741888, {67108864,  16777216,  2097152,   262144,   65536,    4096,    2048,    1024,   512,    256,    128,   32,   4,    2,   1}},
    {1073741856, {536870912, 33554432,  8388608,   1048576,  131072,   32768,   2048,    1024,   512,    256,    128,   64,   2,    1}},
    {1073741840, {536870912, 16777216,  1048576,   524288,   65536,    16384,   4096,    512,    256,    8,      4,     2,    1}},
    {1073741832, {268435456, 8388608,   262144,    32768,    8192,     2048,    512,     256,    128,    16,     4,     2,    1}},
    {1073741828, {134217728, 4194304,   131072,    16384,    4096,     1024,    256,     128,    64,     16,     8,     2,    1}},
    {1073741826, {67108864,  2097152,   524288,    65536,    8192,     2048,    128,     64,     32,     16,     8,     4,    1}},
    {1073741825, {33554432,  16777216,  1048576,   262144,   32768,    4096,    1024,    64,     32,     16,     8,     4,    2}},
    {16777216,   {268435456}},
    {8388608,    {536870912, 134217728}},
    {4194304,    {268435456, 67108864}},
    {2097152,    {134217728, 33554432}},
    {1048576,    {67108864}},
    {524288,     {8388608}},
    {262144,     {16777216,  4194304}},
    {131072,     {8388608,   2097152}},
    {65536,      {4194304,   1048576}},
    {32768,      {2097152}},
    {16384,      {262144}},
    {8192,       {524288,    131072}},
    {4096,       {262144,    65536}},
    {2048,       {131072,    32768}},
    {1024,       {65536}},
    {512,        {8192}},
    {256,        {16384,     4096}},
    {128,        {8192,      2048}},
    {64,         {4096,      1024}},
    {32,         {2048}},
    {16,         {256}},
    {8,          {512,       128}},
    {4,          {256,       64}},
    {2,          {128,       32}},
    {1,          {64}},
};

static const Move_Mask KING_MOVE_MASKS = {
    {536870912, {268435456, 16777216,  8388608}},
    {268435456, {536870912, 134217728, 16777216,  8388608,  4194304}},
    {134217728, {268435456, 67108864,  8388608,   4194304,  2097152}},
    {67108864,  {134217728, 33554432,  4194304,   2097152,  1048576}},
    {33554432,  {67108864,  2097152,   1048576}},
    {16777216,  {536870912, 268435456, 8388608,   524288,   262144}},
    {8388608,   {536870912, 268435456, 134217728, 16777216, 4194304, 524288, 262144, 131072}},
    {4194304,   {268435456, 134217728, 67108864,  8388608,  2097152, 262144, 131072, 65536}},
    {2097152,   {134217728, 67108864,  33554432,  4194304,  1048576, 131072, 65536,  32768}},
    {1048576,   {67108864,  33554432,  2097152,   65536,    32768}},
    {524288,    {16777216,  8388608,   262144,    16384,    8192}},
    {262144,    {16777216,  8388608,   4194304,   524288,   131072,  16384,  8192,   4096}},
    {131072,    {8388608,   4194304,   2097152,   262144,   65536,   8192,   4096,   2048}},
    {65536,     {4194304,   2097152,   1048576,   131072,   32768,   4096,   2048,   1024}},
    {32768,     {2097152,   1048576,   65536,     2048,     1024}},
    {16384,     {524288,    262144,    8192,      512,      256}},
    {8192,      {524288,    262144,    131072,    16384,    4096,    512,    256,    128}},
    {4096,      {262144,    131072,    65536,     8192,     2048,    256,    128,    64}},
    {2048,      {131072,    65536,     32768,     4096,     1024,    128,    64,     32}},
    {1024,      {65536,     32768,     2048,      64,       32}},
    {512,       {16384,     8192,      256,       16,       8}},
    {256,       {16384,     8192,      4096,      512,      128,     16,     8,      4}},
    {128,       {8192,      4096,      2048,      256,      64,      8,      4,      2}},
    {64,        {4096,      2048,      1024,      128,      32,      4,      2,      1}},
    {32,        {2048,      1024,      64,        2,        1}},
    {16,        {512,       256,       8}},
    {8,         {512,       256,       128,       16,       4}},
    {4,         {256,       128,       64,        8,        2}},
    {2,         {128,       64,        32,        4,        1}},
    {1,         {64,        32,        2}},
};

static const Move_Mask QUEEN_MOVE_MASKS = {
    {536870912, {268435456, 134217728, 67108864,  33554432, 16777216, 8388608, 524288,  131072, 16384,  2048,   512,   32,   16}},
    {268435456, {536870912, 134217728, 67108864,  33554432, 16777216, 8388608, 4194304, 262144, 65536,  8192,   1024,  256,  8}},
    {134217728, {536870912, 268435456, 67108864,  33554432, 8388608,  4194304, 2097152, 524288, 131072, 32768,  4096,  128,  4}},
    {67108864,  {536870912, 268435456, 134217728, 33554432, 4194304,  2097152, 1048576, 262144, 65536,  16384,  2048,  64,   2}},
    {33554432,  {536870912, 268435456, 134217728, 67108864, 2097152,  1048576, 131072,  32768,  8192,   1024,   512,   32,   1}},
    {16777216,  {536870912, 268435456, 8388608,   4194304,  2097152,  1048576, 524288,  262144, 16384,  4096,   512,   64,   16,   1}},
    {8388608,   {536870912, 268435456, 134217728, 16777216, 4194304,  2097152, 1048576, 524288, 262144, 131072, 8192,  2048, 256,  32,  8}},
    {4194304,   {268435456, 134217728, 67108864,  16777216, 8388608,  2097152, 1048576, 262144, 131072, 65536,  16384, 4096, 1024, 128, 4}},
    {2097152,   {134217728, 67108864,  33554432,  16777216, 8388608,  4194304, 1048576, 131072, 65536,  32768,  8192,  2048, 512,  64,  2}},
    {1048576,   {67108864,  33554432,  16777216,  8388608,  4194304,  2097152, 65536,   32768,  4096,   1024,   256,   32,   16,   1}},
    {524288,    {536870912, 134217728, 16777216,  8388608,  262144,   131072,  65536,   32768,  16384,  8192,   512,   128,  16,   2}},
    {262144,    {268435456, 67108864,  16777216,  8388608,  4194304,  524288,  131072,  65536,  32768,  16384,  8192,  4096, 256,  64,  8,   1}},
    {131072,    {536870912, 134217728, 33554432,  8388608,  4194304,  2097152, 524288,  262144, 65536,  32768,  8192,  4096, 2048, 512, 128, 32, 4}},
    {65536,     {268435456, 67108864,  4194304,   2097152,  1048576,  524288,  262144,  131072, 32768,  4096,   2048,  1024, 256,  64,  16,  2}},
    {32768,     {134217728, 33554432,  2097152,   1048576,  524288,   262144,  131072,  65536,  2048,   1024,   128,   32,   8,    1}},
    {16384,     {536870912, 67108864,  16777216,  4194304,  524288,   262144,  8192,    4096,   2048,   1024,   512,   256,  16,   4}},
    {8192,      {268435456, 33554432,  8388608,   2097152,  524288,   262144,  131072,  16384,  4096,   2048,   1024,  512,  256,  128, 8,   2}},
    {4096,      {134217728, 16777216,  4194304,   1048576,  262144,   131072,  65536,   16384,  8192,   2048,   1024,  256,  128,  64,  16,  4,  1}},
    {2048,      {536870912, 67108864,  8388608,   2097152,  131072,   65536,   32768,   16384,  8192,   4096,   1024,  128,  64,   32,  8,   2}},
    {1024,      {268435456, 33554432,  4194304,   1048576,  65536,    32768,   16384,   8192,   4096,   2048,   64,    32,   4,    1}},
    {512,       {536870912, 33554432,  16777216,  2097152,  524288,   131072,  16384,   8192,   256,    128,    64,    32,   16,   8}},
    {256,       {268435456, 8388608,   1048576,   262144,   65536,    16384,   8192,    4096,   512,    128,    64,    32,   16,   8,   4}},
    {128,       {134217728, 4194304,   524288,    131072,   32768,    8192,    4096,    2048,   512,    256,    64,    32,   8,    4,   2}},
    {64,        {67108864,  16777216,  2097152,   262144,   65536,    4096,    2048,    1024,   512,    256,    128,   32,   4,    2,   1}},
    {32,        {536870912, 33554432,  8388608,   1048576,  131072,   32768,   2048,    1024,   512,    256,    128,   64,   2,    1}},
    {16,        {536870912, 16777216,  1048576,   524288,   65536,    16384,   4096,    512,    256,    8,      4,     2,    1}},
    {8,         {268435456, 8388608,   262144,    32768,    8192,     2048,    512,     256,    128,    16,     4,     2,    1}},
    {4,         {134217728, 4194304,   131072,    16384,    4096,     1024,    256,     128,    64,     16,     8,     2,    1}},
    {2,         {67108864,  2097152,   524288,    65536,    8192,     2048,    128,     64,     32,     16,     8,     4,    1}},
    {1,         {33554432,  16777216,  1048576,   262144,   32768,    4096,    1024,    64,     32,     16,     8,     4,    2}},
};

static const Move_Mask BISHOP_MOVE_MASKS = {
    {536870912, {268435456, 16777216,  8388608,   131072,   2048,    32}},
    {268435456, {536870912, 134217728, 16777216,  8388608,  4194304, 65536,  1024}},
    {134217728, {268435456, 67108864,  8388608,   4194304,  2097152, 524288, 32768}},
    {67108864,  {134217728, 33554432,  4194304,   2097152,  1048576, 262144, 16384}},
    {33554432,  {67108864,  2097152,   1048576,   131072,   8192,    512}},
    {16777216,  {536870912, 268435456, 8388608,   524288,   262144,  4096,   64,     1}},
    {8388608,   {536870912, 268435456, 134217728, 16777216, 4194304, 524288, 262144, 131072, 2048,  32}},
    {4194304,   {268435456, 134217728, 67108864,  8388608,  2097152, 262144, 131072, 65536,  16384, 1024}},
    {2097152,   {134217728, 67108864,  33554432,  4194304,  1048576, 131072, 65536,  32768,  8192,  512}},
    {1048576,   {67108864,  33554432,  2097152,   65536,    32768,   4096,   256,    16}},
    {524288,    {134217728, 16777216,  8388608,   262144,   16384,   8192,   128,    2}},
    {262144,    {67108864,  16777216,  8388608,   4194304,  524288,  131072, 16384,  8192,   4096,  64,   1}},
    {131072,    {536870912, 33554432,  8388608,   4194304,  2097152, 262144, 65536,  8192,   4096,  2048, 512, 32}},
    {65536,     {268435456, 4194304,   2097152,   1048576,  131072,  32768,  4096,   2048,   1024,  256,  16}},
    {32768,     {134217728, 2097152,   1048576,   65536,    2048,    1024,   128,    8}},
    {16384,     {67108864,  4194304,   524288,    262144,   8192,    512,    256,    4}},
    {8192,      {33554432,  2097152,   524288,    262144,   131072,  16384,  4096,   512,    256,   128,  2}},
    {4096,      {16777216,  1048576,   262144,    131072,   65536,   8192,   2048,   256,    128,   64,   16,  1}},
    {2048,      {536870912, 8388608,   131072,    65536,    32768,   4096,   1024,   128,    64,    32,   8}},
    {1024,      {268435456, 4194304,   65536,     32768,    2048,    64,     32,     4}},
    {512,       {33554432,  2097152,   131072,    16384,    8192,    256,    16,     8}},
    {256,       {1048576,   65536,     16384,     8192,     4096,    512,    128,    16,     8,     4}},
    {128,       {524288,    32768,     8192,      4096,     2048,    256,    64,     8,      4,     2}},
    {64,        {16777216,  262144,    4096,      2048,     1024,    128,    32,     4,      2,     1}},
    {32,        {536870912, 8388608,   131072,    2048,     1024,    64,     2,      1}},
    {16,        {1048576,   65536,     4096,      512,      256,     8}},
    {8,         {32768,     2048,      512,       256,      128,     16,     4}},
    {4,         {16384,     1024,      256,       128,      64,      8,      2}},
    {2,         {524288,    8192,      128,       64,       32,      4,      1}},
    {1,         {16777216,  262144,    4096,      64,       32,      2}},
};

static const Move_Mask KNIGHT_MOVE_MASKS = {
    {536870912, {4194304,   262144}},
    {268435456, {2097152,   524288,    131072}},
    {134217728, {16777216,  1048576,   262144,   65536}},
    {67108864,  {8388608,   131072,    32768}},
    {33554432,  {4194304,   65536}},
    {16777216,  {134217728, 131072,    8192}},
    {8388608,   {67108864,  65536,     16384,    4096}},
    {4194304,   {536870912, 33554432,  524288,   32768,   8192,  2048}},
    {2097152,   {268435456, 262144,    4096,     1024}},
    {1048576,   {134217728, 131072,    2048}},
    {524288,    {268435456, 4194304,   4096,     256}},
    {262144,    {536870912, 134217728, 2097152,  2048,    512,   128}},
    {131072,    {268435456, 67108864,  16777216, 1048576, 16384, 1024, 256, 64}},
    {65536,     {134217728, 33554432,  8388608,  8192,    128,   32}},
    {32768,     {67108864,  4194304,   4096,     64}},
    {16384,     {8388608,   131072,    128,      8}},
    {8192,      {16777216,  4194304,   65536,    64,      16,    4}},
    {4096,      {8388608,   2097152,   524288,   32768,   512,   32,   8,   2}},
    {2048,      {4194304,   1048576,   262144,   256,     4,     1}},
    {1024,      {2097152,   131072,    128,      2}},
    {512,       {262144,    4096,      4}},
    {256,       {524288,    131072,    2048,     2}},
    {128,       {262144,    65536,     16384,    1024,    16,    1}},
    {64,        {131072,    32768,     8192,     8}},
    {32,        {65536,     4096,      4}},
    {16,        {8192,      128}},
    {8,         {16384,     4096,      64}},
    {4,         {8192,      2048,      512,      32}},
    {2,         {4096,      1024,      256}},
    {1,         {2048,      128}},
};

static const Move_Mask ROOK_MOVE_MASKS = {
    {536870912, {268435456, 134217728, 67108864,  33554432, 16777216, 524288, 16384, 512, 16}},
    {268435456, {536870912, 134217728, 67108864,  33554432, 8388608,  262144, 8192,  256, 8}},
    {134217728, {536870912, 268435456, 67108864,  33554432, 4194304,  131072, 4096,  128, 4}},
    {67108864,  {536870912, 268435456, 134217728, 33554432, 2097152,  65536,  2048,  64,  2}},
    {33554432,  {536870912, 268435456, 134217728, 67108864, 1048576,  32768,  1024,  32,  1}},
    {16777216,  {536870912, 8388608,   4194304,   2097152,  1048576,  524288, 16384, 512, 16}},
    {8388608,   {268435456, 16777216,  4194304,   2097152,  1048576,  262144, 8192,  256, 8}},
    {4194304,   {134217728, 16777216,  8388608,   2097152,  1048576,  131072, 4096,  128, 4}},
    {2097152,   {67108864,  16777216,  8388608,   4194304,  1048576,  65536,  2048,  64,  2}},
    {1048576,   {33554432,  16777216,  8388608,   4194304,  2097152,  32768,  1024,  32,  1}},
    {524288,    {536870912, 16777216,  262144,    131072,   65536,    32768,  16384, 512, 16}},
    {262144,    {268435456, 8388608,   524288,    131072,   65536,    32768,  8192,  256, 8}},
    {131072,    {134217728, 4194304,   524288,    262144,   65536,    32768,  4096,  128, 4}},
    {65536,     {67108864,  2097152,   524288,    262144,   131072,   32768,  2048,  64,  2}},
    {32768,     {33554432,  1048576,   524288,    262144,   131072,   65536,  1024,  32,  1}},
    {16384,     {536870912, 16777216,  524288,    8192,     4096,     2048,   1024,  512, 16}},
    {8192,      {268435456, 8388608,   262144,    16384,    4096,     2048,   1024,  256, 8}},
    {4096,      {134217728, 4194304,   131072,    16384,    8192,     2048,   1024,  128, 4}},
    {2048,      {67108864,  2097152,   65536,     16384,    8192,     4096,   1024,  64,  2}},
    {1024,      {33554432,  1048576,   32768,     16384,    8192,     4096,   2048,  32,  1}},
    {512,       {536870912, 16777216,  524288,    16384,    256,      128,    64,    32,  16}},
    {256,       {268435456, 8388608,   262144,    8192,     512,      128,    64,    32,  8}},
    {128,       {134217728, 4194304,   131072,    4096,     512,      256,    64,    32,  4}},
    {64,        {67108864,  2097152,   65536,     2048,     512,      256,    128,   32,  2}},
    {32,        {33554432,  1048576,   32768,     1024,     512,      256,    128,   64,  1}},
    {16,        {536870912, 16777216,  524288,    16384,    512,      8,      4,     2,   1}},
    {8,         {268435456, 8388608,   262144,    8192,     256,      16,     4,     2,   1}},
    {4,         {134217728, 4194304,   131072,    4096,     128,      16,     8,     2,   1}},
    {2,         {67108864,  2097152,   65536,     2048,     64,       16,     8,     4,   1}},
    {1,         {33554432,  1048576,   32768,     1024,     32,       16,     8,     4,   2}},
};

static const Move_Mask BLACK_PAWN_MOVE_MASKS = {
    // Top 30 values are move masks for pawns promoted to queen
    {1610612736, {268435456, 134217728, 67108864,  33554432, 16777216, 8388608, 524288,  131072, 16384,  2048,   512,   32,   16}},
    {1342177280, {536870912, 134217728, 67108864,  33554432, 16777216, 8388608, 4194304, 262144, 65536,  8192,   1024,  256,  8}},
    {1207959552, {536870912, 268435456, 67108864,  33554432, 8388608,  4194304, 2097152, 524288, 131072, 32768,  4096,  128,  4}},
    {1140850688, {536870912, 268435456, 134217728, 33554432, 4194304,  2097152, 1048576, 262144, 65536,  16384,  2048,  64,   2}},
    {1107296256, {536870912, 268435456, 134217728, 67108864, 2097152,  1048576, 131072,  32768,  8192,   1024,   512,   32,   1}},
    {1090519040, {536870912, 268435456, 8388608,   4194304,  2097152,  1048576, 524288,  262144, 16384,  4096,   512,   64,   16,   1}},
    {1082130432, {536870912, 268435456, 134217728, 16777216, 4194304,  2097152, 1048576, 524288, 262144, 131072, 8192,  2048, 256,  32,  8}},
    {1077936128, {268435456, 134217728, 67108864,  16777216, 8388608,  2097152, 1048576, 262144, 131072, 65536,  16384, 4096, 1024, 128, 4}},
    {1075838976, {134217728, 67108864,  33554432,  16777216, 8388608,  4194304, 1048576, 131072, 65536,  32768,  8192,  2048, 512,  64,  2}},
    {1074790400, {67108864,  33554432,  16777216,  8388608,  4194304,  2097152, 65536,   32768,  4096,   1024,   256,   32,   16,   1}},
    {1074266112, {536870912, 134217728, 16777216,  8388608,  262144,   131072,  65536,   32768,  16384,  8192,   512,   128,  16,   2}},
    {1074003968, {268435456, 67108864,  16777216,  8388608,  4194304,  524288,  131072,  65536,  32768,  16384,  8192,  4096, 256,  64,  8,   1}},
    {1073872896, {536870912, 134217728, 33554432,  8388608,  4194304,  2097152, 524288,  262144, 65536,  32768,  8192,  4096, 2048, 512, 128, 32, 4}},
    {1073807360, {268435456, 67108864,  4194304,   2097152,  1048576,  524288,  262144,  131072, 32768,  4096,   2048,  1024, 256,  64,  16,  2}},
    {1073774592, {134217728, 33554432,  2097152,   1048576,  524288,   262144,  131072,  65536,  2048,   1024,   128,   32,   8,    1}},
    {1073758208, {536870912, 67108864,  16777216,  4194304,  524288,   262144,  8192,    4096,   2048,   1024,   512,   256,  16,   4}},
    {1073750016, {268435456, 33554432,  8388608,   2097152,  524288,   262144,  131072,  16384,  4096,   2048,   1024,  512,  256,  128, 8,   2}},
    {1073745920, {134217728, 16777216,  4194304,   1048576,  262144,   131072,  65536,   16384,  8192,   2048,   1024,  256,  128,  64,  16,  4,  1}},
    {1073743872, {536870912, 67108864,  8388608,   2097152,  131072,   65536,   32768,   16384,  8192,   4096,   1024,  128,  64,   32,  8,   2}},
    {1073742848, {268435456, 33554432,  4194304,   1048576,  65536,    32768,   16384,   8192,   4096,   2048,   64,    32,   4,    1}},
    {1073742336, {536870912, 33554432,  16777216,  2097152,  524288,   131072,  16384,   8192,   256,    128,    64,    32,   16,   8}},
    {1073742080, {268435456, 8388608,   1048576,   262144,   65536,    16384,   8192,    4096,   512,    128,    64,    32,   16,   8,   4}},
    {1073741952, {134217728, 4194304,   524288,    131072,   32768,    8192,    4096,    2048,   512,    256,    64,    32,   8,    4,   2}},
    {1073741888, {67108864,  16777216,  2097152,   262144,   65536,    4096,    2048,    1024,   512,    256,    128,   32,   4,    2,   1}},
    {1073741856, {536870912, 33554432,  8388608,   1048576,  131072,   32768,   2048,    1024,   512,    256,    128,   64,   2,    1}},
    {1073741840, {536870912, 16777216,  1048576,   524288,   65536,    16384,   4096,    512,    256,    8,      4,     2,    1}},
    {1073741832, {268435456, 8388608,   262144,    32768,    8192,     2048,    512,     256,    128,    16,     4,     2,    1}},
    {1073741828, {134217728, 4194304,   131072,    16384,    4096,     1024,    256,     128,    64,     16,     8,     2,    1}},
    {1073741826, {67108864,  2097152,   524288,    65536,    8192,     2048,    128,     64,     32,     16,     8,     4,    1}},
    {1073741825, {33554432,  16777216,  1048576,   262144,   32768,    4096,    1024,    64,     32,     16,     8,     4,    2}},
    {536870912,  {16777216}},
    {268435456,  {8388608}},
    {134217728,  {4194304}},
    {67108864,   {2097152}},
    {33554432,   {1048576}},
    {16777216,   {524288}},
    {8388608,    {262144}},
    {4194304,    {131072}},
    {2097152,    {65536}},
    {1048576,    {32768}},
    {524288,     {16384}},
    {262144,     {8192}},
    {131072,     {4096}},
    {65536,      {2048}},
    {32768,      {1024}},
    {16384,      {512}},
    {8192,       {256}},
    {4096,       {128}},
    {2048,       {64}},
    {1024,       {32}},
    {512,        {16}},
    {256,        {8}},
    {128,        {4}},
    {64,         {2}},
    {32,         {1}},
};

static const Move_Mask WHITE_PAWN_MOVE_MASKS = {
    // Top 30 values are move masks for pawns promoted to queen
    {1610612736, {268435456, 134217728, 67108864,  33554432, 16777216, 8388608, 524288,  131072, 16384,  2048,   512,   32,   16}},
    {1342177280, {536870912, 134217728, 67108864,  33554432, 16777216, 8388608, 4194304, 262144, 65536,  8192,   1024,  256,  8}},
    {1207959552, {536870912, 268435456, 67108864,  33554432, 8388608,  4194304, 2097152, 524288, 131072, 32768,  4096,  128,  4}},
    {1140850688, {536870912, 268435456, 134217728, 33554432, 4194304,  2097152, 1048576, 262144, 65536,  16384,  2048,  64,   2}},
    {1107296256, {536870912, 268435456, 134217728, 67108864, 2097152,  1048576, 131072,  32768,  8192,   1024,   512,   32,   1}},
    {1090519040, {536870912, 268435456, 8388608,   4194304,  2097152,  1048576, 524288,  262144, 16384,  4096,   512,   64,   16,   1}},
    {1082130432, {536870912, 268435456, 134217728, 16777216, 4194304,  2097152, 1048576, 524288, 262144, 131072, 8192,  2048, 256,  32,  8}},
    {1077936128, {268435456, 134217728, 67108864,  16777216, 8388608,  2097152, 1048576, 262144, 131072, 65536,  16384, 4096, 1024, 128, 4}},
    {1075838976, {134217728, 67108864,  33554432,  16777216, 8388608,  4194304, 1048576, 131072, 65536,  32768,  8192,  2048, 512,  64,  2}},
    {1074790400, {67108864,  33554432,  16777216,  8388608,  4194304,  2097152, 65536,   32768,  4096,   1024,   256,   32,   16,   1}},
    {1074266112, {536870912, 134217728, 16777216,  8388608,  262144,   131072,  65536,   32768,  16384,  8192,   512,   128,  16,   2}},
    {1074003968, {268435456, 67108864,  16777216,  8388608,  4194304,  524288,  131072,  65536,  32768,  16384,  8192,  4096, 256,  64,  8,   1}},
    {1073872896, {536870912, 134217728, 33554432,  8388608,  4194304,  2097152, 524288,  262144, 65536,  32768,  8192,  4096, 2048, 512, 128, 32, 4}},
    {1073807360, {268435456, 67108864,  4194304,   2097152,  1048576,  524288,  262144,  131072, 32768,  4096,   2048,  1024, 256,  64,  16,  2}},
    {1073774592, {134217728, 33554432,  2097152,   1048576,  524288,   262144,  131072,  65536,  2048,   1024,   128,   32,   8,    1}},
    {1073758208, {536870912, 67108864,  16777216,  4194304,  524288,   262144,  8192,    4096,   2048,   1024,   512,   256,  16,   4}},
    {1073750016, {268435456, 33554432,  8388608,   2097152,  524288,   262144,  131072,  16384,  4096,   2048,   1024,  512,  256,  128, 8,   2}},
    {1073745920, {134217728, 16777216,  4194304,   1048576,  262144,   131072,  65536,   16384,  8192,   2048,   1024,  256,  128,  64,  16,  4,  1}},
    {1073743872, {536870912, 67108864,  8388608,   2097152,  131072,   65536,   32768,   16384,  8192,   4096,   1024,  128,  64,   32,  8,   2}},
    {1073742848, {268435456, 33554432,  4194304,   1048576,  65536,    32768,   16384,   8192,   4096,   2048,   64,    32,   4,    1}},
    {1073742336, {536870912, 33554432,  16777216,  2097152,  524288,   131072,  16384,   8192,   256,    128,    64,    32,   16,   8}},
    {1073742080, {268435456, 8388608,   1048576,   262144,   65536,    16384,   8192,    4096,   512,    128,    64,    32,   16,   8,   4}},
    {1073741952, {134217728, 4194304,   524288,    131072,   32768,    8192,    4096,    2048,   512,    256,    64,    32,   8,    4,   2}},
    {1073741888, {67108864,  16777216,  2097152,   262144,   65536,    4096,    2048,    1024,   512,    256,    128,   32,   4,    2,   1}},
    {1073741856, {536870912, 33554432,  8388608,   1048576,  131072,   32768,   2048,    1024,   512,    256,    128,   64,   2,    1}},
    {1073741840, {536870912, 16777216,  1048576,   524288,   65536,    16384,   4096,    512,    256,    8,      4,     2,    1}},
    {1073741832, {268435456, 8388608,   262144,    32768,    8192,     2048,    512,     256,    128,    16,     4,     2,    1}},
    {1073741828, {134217728, 4194304,   131072,    16384,    4096,     1024,    256,     128,    64,     16,     8,     2,    1}},
    {1073741826, {67108864,  2097152,   524288,    65536,    8192,     2048,    128,     64,     32,     16,     8,     4,    1}},
    {1073741825, {33554432,  16777216,  1048576,   262144,   32768,    4096,    1024,    64,     32,     16,     8,     4,    2}},
    {16777216,   {536870912}},
    {8388608,    {268435456}},
    {4194304,    {134217728}},
    {2097152,    {67108864}},
    {1048576,    {33554432}},
    {524288,     {16777216}},
    {262144,     {8388608}},
    {131072,     {4194304}},
    {65536,      {2097152}},
    {32768,      {1048576}},
    {16384,      {524288}},
    {8192,       {262144}},
    {4096,       {131072}},
    {2048,       {65536}},
    {1024,       {32768}},
    {512,        {16384}},
    {256,        {8192}},
    {128,        {4096}},
    {64,         {2048}},
    {32,         {1024}},
    {16,         {512}},
    {8,          {256}},
    {4,          {128}},
    {2,          {64}},
    {1,          {32}},
};

static Shadow_Mask SHADOW_MASK = {
    {
        536870912, {
                       {268435456, 234881024},
                       {134217728, 100663296},
                       {67108864, 33554432},
                       {16777216, 541200},
                       {8388608, 133152},
                       {524288, 16912},
                       {131072, 2080},
                       {16384, 528},
                       {2048, 32},
                       {512, 16},
                   }
    },
    {
        268435456, {
                       {134217728, 100663296},
                       {67108864,  33554432},
                       {8388608,  270600},
                       {4194304,  66560},
                       {262144,  8456},
                       {65536,  1024},
                       {8192,   264},
                       {256,   8},
                   }
    },
    {
        134217728, {
                       {268435456, 536870912},
                       {67108864,  33554432},
                       {8388608,  524288},
                       {4194304,  135300},
                       {2097152, 32768},
                       {131072, 4228},
                       {4096,   132},
                       {128,   4},
                   }
    },
    {
        67108864,  {
                       {268435456, 536870912},
                       {134217728, 805306368},
                       {4194304,  278528},
                       {2097152,  67650},
                       {262144,  16384},
                       {65536,  2114},
                       {2048,   66},
                       {64,    2},
                   }
    },
    {
        33554432,  {
                       {268435456, 536870912},
                       {134217728, 805306368},
                       {67108864, 939524096},
                       {2097152,  139776},
                       {1048576, 33825},
                       {131072, 8704},
                       {32768,  1057},
                       {8192,  512},
                       {1024, 33},
                       {32,  1},
                   }
    },
    {
        16777216,  {
                       {8388608,   7340032},
                       {4194304,   3145728},
                       {2097152,  1048576},
                       {524288,   16912},
                       {262144,  4161},
                       {16384,  528},
                       {4096,   65},
                       {512,   16},
                       {64,   1},
                   }
    },
    {
        8388608,   {
                       {4194304,   3145728},
                       {2097152,   1048576},
                       {262144,   8456},
                       {131072,   2080},
                       {8192,    264},
                       {2048,   32},
                       {256,    8},
                   }
    },
    {
        4194304,   {
                       {8388608,   16777216},
                       {2097152,   1048576},
                       {262144,   16384},
                       {131072,   4228},
                       {65536,   1024},
                       {4096,   132},
                       {128,    4},
                   }
    },
    {
        2097152,   {
                       {8388608,   16777216},
                       {4194304,   25165824},
                       {131072,   8704},
                       {65536,    2114},
                       {8192,    512},
                       {2048,   66},
                       {64,     2},
                   }
    },
    {
        1048576,   {
                       {8388608,   16777216},
                       {4194304,   25165824},
                       {2097152,  29360128},
                       {65536,    4368},
                       {32768,   1057},
                       {4096,   272},
                       {1024,   33},
                       {256,   16},
                       {32,   1},
                   }
    },
    {
        524288,    {
                       {16777216,  536870912},
                       {8388608,   134217728},
                       {262144,   229376},
                       {131072,   98304},
                       {65536,   32768},
                       {16384,  528},
                       {8192,   130},
                       {512,   16},
                       {128,  2},
                   }
    },
    {
        262144,    {
                       {8388608,   268435456},
                       {4194304,   67108864},
                       {131072,   98304},
                       {65536,    32768},
                       {8192,    264},
                       {4096,   65},
                       {256,    8},
                       {64,    1},
                   }
    },
    {
        131072,    {
                       {8388608,   536870912},
                       {4194304,   134217728},
                       {2097152,  33554432},
                       {262144,   524288},
                       {65536,   32768},
                       {8192,   512},
                       {4096,   132},
                       {2048,  32},
                       {128,  4},
                   }
    },
    {
        65536,     {
                       {4194304,   268435456},
                       {2097152,   67108864},
                       {262144,   524288},
                       {131072,   786432},
                       {4096,    272},
                       {2048,   66},
                       {256,    16},
                       {64,    2},
                   }
    },
    {
        32768,     {
                       {2097152,   134217728},
                       {1048576,   33554432},
                       {262144,   524288},
                       {131072,   786432},
                       {65536,   917504},
                       {2048,   136},
                       {1024,   33},
                       {128,   8},
                       {32,   1},
                   }
    },
    {
        16384,     {
                       {16777216,  536870912},
                       {4194304,   67108864},
                       {524288,   553648128},
                       {262144,   71303168},
                       {8192,    7168},
                       {4096,   3072},
                       {2048,   1024},
                       {512,   16},
                       {256,  4},
                   }
    },
    {
        8192,      {
                       {8388608,   268435456},
                       {2097152,   33554432},
                       {262144,   276824064},
                       {131072,   35651584},
                       {4096,    3072},
                       {2048,   1024},
                       {256,    8},
                       {128,   2},
                   }
    },
    {
        4096,      {
                       {4194304,   134217728},
                       {262144,    16777216},
                       {131072,   138412032},
                       {65536,    1048576},
                       {8192,    16384},
                       {2048,   1024},
                       {256,    16},
                       {128,   4},
                       {64,   1},
                   }
    },
    {
        2048,      {
                       {8388608,   536870912},
                       {2097152,   67108864},
                       {131072,   545259520},
                       {65536,    69206016},
                       {8192,    16384},
                       {4096,   24576},
                       {128,    8},
                       {64,    2},
                   }
    },
    {
        1024,      {
                       {4194304,   268435456},
                       {1048576,   33554432},
                       {65536,    272629760},
                       {32768,    34603008},
                       {8192,    16384},
                       {4096,   24576},
                       {2048,   28672},
                       {64,    4},
                       {32,   1},
                   }
    },
    {
        512,       {
                       {16777216,  536870912},
                       {2097152,   33554432},
                       {524288,   553648128},
                       {131072,   35651584},
                       {16384,   554172416},
                       {8192,   35782656},
                       {256,    224},
                       {128,   96},
                       {64,   32},
                   }
    },
    {
        256,       {
                       {8388608,   268435456},
                       {262144,    276824064},
                       {65536,    1048576},
                       {8192,     277086208},
                       {4096,    1114112},
                       {128,    96},
                       {64,     32},
                   }
    },
    {
        128,       {
                       {4194304,   134217728},
                       {131072,    138412032},
                       {8192,     524288},
                       {4096,     138543104},
                       {2048,    32768},
                       {256,    512},
                       {64,     32},
                   }
    },
    {
        64,        {
                       {2097152,   67108864},
                       {262144,    16777216},
                       {65536,    69206016},
                       {4096,     17039360},
                       {2048,    69271552},
                       {256,    512},
                       {128,    768},
                   }
    },
    {
        32,        {
                       {8388608,   536870912},
                       {1048576,   33554432},
                       {131072,   545259520},
                       {32768,    34603008},
                       {2048,    545390592},
                       {1024,   34635776},
                       {256,    512},
                       {128,   768},
                       {64,   896},
                   }
    },
    {
        16,        {
                       {16777216,  536870912},
                       {524288,    553648128},
                       {65536,    1048576},
                       {16384,    554172416},
                       {4096,    1114112},
                       {512,    554188800},
                       {256,    1118208},
                       {8,     7},
                       {4,    3},
                       {2,   1},
                   }
    },
    {
        8,         {
                       {8388608,   268435456},
                       {262144,    276824064},
                       {8192,     277086208},
                       {2048,     32768},
                       {256,     277094400},
                       {128,    34816},
                       {4,      3},
                       {2,     1},
                   }
    },
    {
        4,         {
                       {4194304,   134217728},
                       {131072,    138412032},
                       {4096,     138543104},
                       {256,      16384},
                       {128,     138547200},
                       {64,     1024},
                       {8,      16},
                       {2,     1},
                   }
    },
    {
        2,         {
                       {2097152,   67108864},
                       {65536,     69206016},
                       {8192,     524288},
                       {2048,     69271552},
                       {128,     532480},
                       {64,     69273600},
                       {8,      16},
                       {4,     24},
                   }
    },
    {
        1,         {
                       {1048576,   33554432},
                       {262144,    16777216},
                       {32768,    34603008},
                       {4096,     17039360},
                       {1024,    34635776},
                       {64,     17043456},
                       {32,     34636800},
                       {8,     16},
                       {4,    24},
                       {2,   28},
                   }
    },
};

static Attack_Mask type_to_attack[20] = {
    KING_ATTACK_MASKS,
    QUEEN_ATTACK_MASKS,
    BISHOP_ATTACK_MASKS,
    KNIGHT_ATTACK_MASKS,
    ROOK_ATTACK_MASKS,
    BLACK_PAWN_ATTACK_MASKS,
    BLACK_PAWN_ATTACK_MASKS,
    BLACK_PAWN_ATTACK_MASKS,
    BLACK_PAWN_ATTACK_MASKS,
    BLACK_PAWN_ATTACK_MASKS,
    WHITE_PAWN_ATTACK_MASKS,
    WHITE_PAWN_ATTACK_MASKS,
    WHITE_PAWN_ATTACK_MASKS,
    WHITE_PAWN_ATTACK_MASKS,
    WHITE_PAWN_ATTACK_MASKS,
    ROOK_ATTACK_MASKS,
    KNIGHT_ATTACK_MASKS,
    BISHOP_ATTACK_MASKS,
    QUEEN_ATTACK_MASKS,
    KING_ATTACK_MASKS
};

static Move_Mask type_to_move[20] = {
    KING_MOVE_MASKS,
    QUEEN_MOVE_MASKS,
    BISHOP_MOVE_MASKS,
    KNIGHT_MOVE_MASKS,
    ROOK_MOVE_MASKS,
    BLACK_PAWN_MOVE_MASKS,
    BLACK_PAWN_MOVE_MASKS,
    BLACK_PAWN_MOVE_MASKS,
    BLACK_PAWN_MOVE_MASKS,
    BLACK_PAWN_MOVE_MASKS,
    WHITE_PAWN_MOVE_MASKS,
    WHITE_PAWN_MOVE_MASKS,
    WHITE_PAWN_MOVE_MASKS,
    WHITE_PAWN_MOVE_MASKS,
    WHITE_PAWN_MOVE_MASKS,
    ROOK_MOVE_MASKS,
    KNIGHT_MOVE_MASKS,
    BISHOP_MOVE_MASKS,
    QUEEN_MOVE_MASKS,
    KING_MOVE_MASKS
};

static const int black_on_move_values[20]{
    10000,  // MY KING
    900,   // MY QUEEN
    300,   // MY BISHOP
    300,    // MY KNIGHT
    500,    // MY ROOK
    100,    // MY PAWN
    100,    // MY PAWN
    100,    // MY PAWN
    100,    // MY PAWN
    100,    // MY PAWN
    -100,   // OPPONENT PAWN
    -100,   // OPPONENT PAWN
    -100,   // OPPONENT PAWN
    -100,   // OPPONENT PAWN
    -100,   // OPPONENT PAWN
    -500,   // OPPONENT ROOK
    -300,   // OPPONENT KNIGHT
    -300,  // OPPONENT BISHOP
    -900,  // OPPONENT QUEEN
    -10000  // OPPONENT KING
};

static const int white_on_move_values[20]{
    -10000,  // OPPONENT KING
    -900,   // OPPONENT QUEEN
    -300,   // OPPONENT BISHOP
    -300,    // OPPONENT KNIGHT
    -500,    // OPPONENT ROOK
    -100,    // OPPONENT PAWN
    -100,    // OPPONENT PAWN
    -100,    // OPPONENT PAWN
    -100,    // OPPONENT PAWN
    -100,    // OPPONENT PAWN
    100,   // MY PAWN
    100,   // MY PAWN
    100,   // MY PAWN
    100,   // MY PAWN
    100,   // MY PAWN
    500,   // MY ROOK
    300,   // MY KNIGHT
    300,  // MY BISHOP
    900,  // MY QUEEN
    10000  // MY KING
};

static const int piece_type_zobrist_index[20] {
    0,  // k
    1,  // q
    2,  // b
    3,  // n
    4,  // r
    5,  // p
    5,  // p
    5,  // p
    5,  // p
    5,  // p
    6,  // P
    6,  // P
    6,  // P
    6,  // P
    6,  // P
    7,  // R
    8,  // N
    9,  // B
    10, // Q
    11, // K
};

static std::unordered_map<unsigned int, unsigned int> my_player_index{
    {1, 10},
    {2, 0}
};

static std::unordered_map<unsigned int, unsigned int> opponent_player_index{
    {1, 0},
    {2, 10}
};

static std::unordered_map<unsigned int, unsigned int> opponent{
    {1, 2},
    {2, 1}
};

#endif //MOVE_GENERATOR_BITBOARD_TABLES_H
